<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="styles.css">
		<script src="crypto-js.js"></script>
		<meta name="viewport" content="width=device-width">
		<meta charset="UTF-8">
		<title>F1248's Passwort-Generator</title>
	</head>
	<body>
		<h1><a href="https://f1248.github.io">F1248's Passwort-Generator</a></h1>
		<label for="masterPassword">Masterpasswort:</label>
		<input type="password" id="masterPassword">
		<span class="contiguous">
			<label for="showMasterPassword">Masterpasswort anzeigen</label>
			<input type="checkbox" id="showMasterPassword">
		</span>
		<br>
		<label for="websiteName">Webseitenname:</label>
		<input type="text" id="websiteName">
		<br>
		<button onclick="calculatePassword()">Passwort berechnen</button>
		<span class="contiguous">
			<label for="generateNumber">PIN statt Passwort berechnen</label>
			<input type="checkbox" id="generateNumber">
		</span>
		<br>
		<label for="websitePassword">Webseitenpasswort:</label>
		<input type="text" id="websitePassword" readonly>
		<h2>Was ist das?</h2>
		<p>Der Passwort-Generator berechnet aus einem Masterpasswort in Kombination mit einem Webseitennamen ein pseudozufälliges Webseitenpasswort. Pseudozufällig bedeutet in diesem Zusammenhang, dass das Webseitenpasswort zwar zufällig erscheint, aber aus jeder Kombination von Masterpasswort und Webseitenname jedes Mal das gleiche Webseitenpasswort berechnet wird. Das berechnete Webseitenpasswort kann aus allen Groß- und Kleinbuchstaben sowie Ziffern bestehen.</p>
		<h2>Ist das sicher? Wie funktioniert das?</h2>
		<p>Der Passwort-Generator verwendet die kryptografische Hashfunktion SHA-256, die unter anderem vom deutschen <a href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Publikationen/TechnischeRichtlinien/TR02102/BSI-TR-02102.pdf?__blob=publicationFile">Bundesamt für Sicherheit in der Informationstechnik</a> sowie vom <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">National Institute of Standards and Technology</a> der Vereinigten Staaten als kryptografisch stark eingestuft wird. Das bedeutet, dass die Berechnung eines Webseitenpassworts nicht umkehrbar ist. Aus einem Webseitenpasswort kann daher weder das Masterpasswort noch der Webseitenname berechnet werden. Keine der hier eingegebenen Daten werden hochgeladen oder gespeichert. Das Webseitenpasswort wird jedes Mal neu aus dem Masterpasswort und dem Webseitennamen berechnet, die Berechnung erfolgt direkt auf dem Gerät. Der Quellcode kann <a href="https://github.com/F1248/F1248.github.io">auf Github</a> eingesehen werden. Für den Fall, dass diese Webseite nicht erreichbar sein sollte, gibt es eine identische <a href="offline.zip">Offline-Version</a>.</p>
		<h2>Fragen:</h2>
		<ul>
			<li>
				<h3 id="changeMasterPassword">Kann das Masterpasswort geändert werden?</h3>
				Nein, das Masterpasswort kann nicht geändert werden, ohne dass für jeden Webseitennamen ein anderes Webseitenpasswort berechnet wird. Alle paar Jahre sollte ein neues Masterpasswort erstellt und alle neuen Webseitenpasswörter auf den Webseiten geändert werden.
			</li>
			<li>
				<h3 id="changeWebsitePassword">Kann ein Webseitenpasswort geändert werden?</h3>
				Ja, ein Webseitenpasswort kann geändert werden, indem der Webseitenname geändert wird. Bei besonders kritischen Passwörtern kann eine (Jahres-) Zahl angehängt werden, zum Beispiel <span class="mono">Bank22</span>, <span class="mono">Bank23</span>, <span class="mono">Bank…</span>, damit jedes Jahr ein neues Webseitenpasswort berechnet wird, das auf der Webseite geändert werden muss.
			</li>
			<li>
				<h3>Was passiert, wenn das Masterpasswort gestohlen wird?</h3>
				Wenn das Masterpasswort gestohlen wird, können in Kombination mit den Webseitennamen alle Webseitenpasswörter berechnet werden. In diesem Fall muss schnellstmöglich ein neues Masterpasswort erstellt und alle neuen Webseitenpasswörter auf den Webseiten geändert werden. Da es jedoch unmöglich ist, das Masterpasswort außer während der Eingabe auf dieser Webseite zu stehlen, ist dies sehr unwahrscheinlich. Siehe <a href="#changeMasterPassword">„Kann das Masterpasswort geändert werden?“</a>.
			</li>
			<li>
				<h3>Was passiert, wenn ein Webseitenpasswort gestohlen wird?</h3>
				Wenn ein Webseitenpasswort gestohlen wird, kann daraus unmöglich der Webseitenname, ein anderes Webseitenpasswort oder das Masterpasswort berechnet werden. In diesem Fall muss der Webseitenname schnellstmöglich geändert werden damit ein neues Webseitenpasswort berechnet wird, das dann auf der Webseite geändert werden muss. Siehe <a href="#changeWebsitePassword">„Kann ein Webseitenpasswort geändert werden?“</a>.
			</li>
			<li>
				<h3>Akzeptieren alle Webseiten ihr berechnetes Webseitenpasswort?</h3>
				Fast alle Webseiten akzeptieren die normalen lateinischen Groß- und Kleinbuchstaben sowie die arabischen Ziffern in Passwörtern. Wenn eine Webseite ein numerisches Passwort (PIN) verlangt, kann <a href="#generateNumber">„PIN statt Passwort berechnen“</a> ausgewählt werden, damit eine Webseiten-PIN berechnet wird, die nur aus Ziffern besteht. Wenn ein Passwort oder eine PIN die maximale Länge überschreitet, können einfach so viele Zeichen wie nötig am Ende des Passworts oder der PIN weggelassen werden.
			</li>
		</ul>
		<h2>Technische Dokumentation:</h2>
		<h3>Der Hashwert wird wie folgt berechnet:</h3>
		<ul>
			<li>
				Masterpasswort und Webseitenname werden zu einer Zeichenfolge zusammengesetzt.<br>
				<span class="mono">Passwort</span> + <span class="mono">Webseitenname</span> → <span class="mono">PasswortWebseitenname</span>
			</li>
			<li>
				Mit der <a href="https://github.com/brix/crypto-js">crypto-js-Bibliotetk</a> wird der <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">SHA-256-Hashwert</a> der Zeichenfolge berechnet.<br>
				<span class="mono">PasswortWebseitenname</span> → <span class="mono longString">1D66DD438AB5E6E91924CEC7C3D8A4E2DBB4D478DB252806691F6E04C2B1F370</span>
			</li>
		</ul>
		<h3>Eine Webseiten-PIN wird wie folgt berechnet:</h3>
				<ul>
					<li>
						Der Hashwert wird in eine Dezimalzahl umgewandelt
						<span class="mono longString">1D66DD438AB5E6E91924CEC7C3D8A4E2DBB4D478DB252806691F6E04C2B1F370</span> → <span class="mono longString">13298818116389114268544870261927532033440203594122160989539336721401203782512</span>
					</li>
					<li>
						Die Webseiten-PIN besteht aus den letzten 16 Ziffern der Dezimalzahl.
						<span class="mono longString">13298818116389114268544870261927532033440203594122160989539336721401203782512</span> → <span class="mono">6721401203782512</span>
					</li>
				</ul>
		<h3>Ein Webseitenpasswort wird wie folgt berechnet:</h3>
		<ul>
			<li>
				Die ersten 32 Ziffern des Hashwerts werden paarweise in 16 Binärzahlen umgewandelt.
				<ul>
					<li><span class="mono">1D</span> → <span class="mono">00011101</span></li>
					<li><span class="mono">66</span> → <span class="mono">01100110</span></li>
					<li><span class="mono">DD</span> → <span class="mono">11011101</span></li>
					<li><span class="mono">43</span> → <span class="mono">01000011</span></li>
					<li><span class="mono">……</span> → <span class="mono">……………………</span></li>
				</ul>
			</li>
			<li>
				Die Binärzahlen werden auf die letzten sechs Stellen gekürzt.
				<ul>
					<li><span class="mono">00011101</span> → <span class="mono">011101</span></li>
					<li><span class="mono">01100110</span> → <span class="mono">100110</span></li>
					<li><span class="mono">11011101</span> → <span class="mono">011101</span></li>
					<li><span class="mono">01000011</span> → <span class="mono">000011</span></li>
					<li><span class="mono">……………………</span> → <span class="mono">………………</span></li>
				</ul>
			</li>
			<li>
				Die Binärzahlen werden in Dezimalzahlen von 0 bis 63 umgewandelt.
				<ul>
					<li><span class="mono">011101</span> → <span class="mono">29</span></li>
					<li><span class="mono">100110</span> → <span class="mono">46</span></li>
					<li><span class="mono">011101</span> → <span class="mono">29</span></li>
					<li><span class="mono">000011</span> → <span class="mono">03</span></li>
					<li><span class="mono">………………</span> → <span class="mono">……</span></li>
				</ul>
			</li>
			<li>
				Wenn die Dezimalzahl im Bereich von 0 bis 61 liegt, wird das Zeichen an der entsprechenden Stelle in der Zeichenfolge <span class="mono longString">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789</span> dem Webseitenpasswort hinzugefügt.
				<ul>
					<li><span class="mono">29</span> → <span class="mono">d</span></li>
					<li><span class="mono">46</span> → <span class="mono">m</span></li>
					<li><span class="mono">29</span> → <span class="mono">d</span></li>
					<li><span class="mono">03</span> → <span class="mono">D</span></li>
					<li><span class="mono">……</span> → <span class="mono">…</span></li>
				</ul>
			</li>
		</ul>
		<br>
		<p>2023, erstellt von <a href="https://github.com/F1248">F1248</a></p>
		<p>Die Idee eines kryptographischen Hash-Passwort-Generators stammt von <a href="https://ss64.com/pass/">Simon Sheppard's Passwort-Generator</a>, dieser ist jedoch komplett selbst geschrieben.</p>
		<p><a href="offline.zip">Quellcode herunterladen (Offline-Version)</a></p>
		<p><a href="https://github.com/F1248/F1248.github.io">Quellcode auf Github</a></p>
		<script src="script.js"></script>
	</body>
</html>