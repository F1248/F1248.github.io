<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Passwort-Generator</title>
		<style>
			@font-face {
  				font-family: "SF-Rounded";
  				src: url("fonts/SF-Rounded.otf");
			}
			@font-face {
				font-family: "SF-Rounded-Bold";
				src: url("fonts/SF-Rounded-Bold.otf");
			}
			@font-face {
  				font-family: "SF-Mono";
  				src: url("fonts/SF-Mono.otf");
			}
			h1 {
				font-family: "SF-Rounded-Bold";
				font-size: 32 px;
			}
			h2 {
				font-family: "SF-Rounded-Bold";
				font-size: 24 px;
			}
			p, label, input {
				font-family: "SF-Rounded";
				font-size: 16 px;
				margin: 4px;
			}
			span {
				font-family: "SF-Mono";
				background-color: #BFBFBF;
				padding: 2px;
				border-radius: 4px;
			}
			#masterPassword, #websiteName, #websitePassword {
				font-family: "SF-Mono";
				border-radius: 4px;
				width: 256px;
			}
    	</style>
		<script src="crypto-js/crypto-js.js"></script>
	</head>
	<body> 
		<h1>Passwort-Generator</h1>
		<label for="masterPassword">Masterpasswort:</label>
		<input type="password" id="masterPassword">
		<input type="checkbox" id="showMasterPassword">
		<label for="showMasterPassword">Masterpasswort anzeigen</label>
		<br>
		<label for="websiteName">Webseitenname:</label>
		<input type="text" id="websiteName">
		<button onclick="calculatePassword()">Passwort berechnen</button>
		<br>
		<label for="websitePassword">Webseitenpasswort:</label>
		<input type="text" id="websitePassword" readonly>
		<h2>Was ist das?</h2>
		<p>
			Diese Webseite berechnet aus einem Masterpasswort in Kombination mit einem Webseitennamen ein Webseitenpasswort.<br>
			Immer wenn die Kobination aus Masterpasswort und Webseitennamen idetisch sind, wird das selbe Webseitenpasswort berechnet, anderenfalls ein komplett anderes.<br>
			<b>Achtung!</b> Die Groß- und Kleinschreibung ist hier entscheidet, auch <span>O</span> und <span>0</span> sowie <span>I</span> und <span>l</span> dürfen nicht verwechselt werden!
		</p>
		<h2>Wie funktioiert das?</h2>
		<p>
			Diese Webseite nutzt eine kryptographische Hashfunktion names SHA-256, welche unter Anderem vom <a href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Publikationen/TechnischeRichtlinien/TR02102/BSI-TR-02102.pdf?__blob=publicationFile">Bundesamt für Sicherheit in der Informationstechnik</a> und vom <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">National Institute of Standards and Technology</a> als kryptographisch stark eingestuft wird. Das bedeutet, dass diese Berechnung nach heutigem technoligischem Stand irreversibel ist. Aus einem Webseitenpasswort kann also weder das Masterpasswort noch der Webseitenname berechnet werden.<br>
		</p>
		<h2>Fragen:</h2>
		<ul>
			<p>
				Was passiert mit meinen Passwörtern?<br>
				Deine Daten werden nirgends gespeichert, sondern jedes Mal aus Deinem Masterpasswort und dem Webseitennamen neu berechnet. Ist die Kobination identisch, entsteht das selbe Webseitenpasswort. Die komplette Berechenung findet auf Deinem Gerät statt.
			</p>
			<p>
				Kann ich mein Masterpasswort ändern?<br>
				Nein, Du kannst Dein Masterpasswort nicht änderen, ohne dass sich auch alle Deine Webseitenpasswörter ändern. Deshalb soltest Du alle paar Jahre ein neues Masterpasswort erstellen und dann alle Webseite auf ihr neu berechnetes Webseitenpasswort zu ändern.</p>
			<p>
				Kann ich mein Webseitenpasswort ändern?<br>
				Nein, es wird jedes mal das gleiche Webseitenpasswort berechnet, wenn die Kombination aus Deinem Masterpasswort und dem Webseitenname identisch sind. Du kannst aber an Passwörter, die du oft ändern möchstest eine (Jahres-) Zahl anhängen, wie zum Beispiel <span>PayPal22</span>, <span>PayPal23</span>, <span>PayPal...</span>, damit Du jedes Jahr ein neues Webseitenpassort verwenden kannst, das du dann auf der Webseite änden musst.</p>
		</ul>
		<p>2023, erstellt von <a href="https://github.com/F1248">F1248</a></p>
		<p><a href="https://github.com/F1248/F1248.github.io">Quellcode auf Github</a></p>
		<script>
			document.getElementById("showMasterPassword").addEventListener("change", function() {
		  		if (document.getElementById("showMasterPassword").checked) {
					document.getElementById("masterPassword").type = "text";
		  		} else {
					document.getElementById("masterPassword").type = "password";
		  		}
			});
			function calculatePassword() {
				const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-#";
				let masterPassword = document.getElementById("masterPassword").value;
				let websiteName = document.getElementById("websiteName").value;
				let string = masterPassword + websiteName;
				let hash = CryptoJS.SHA256(string).toString();
				let websitePassword = "" 
				for (let character = 0; character < 16; character++) {
  					let hex1_index = character * 2;
					let hex2_index = hex1_index + 1;
					let hex1 = hash[hex1_index]
					let hex2 = hash[hex2_index]
					let hex = hex1 + hex2;
					let binary_long = parseInt(hex, 16).toString(2)
					let binary = binary_long.slice(0, 6)
					let dezimal = parseInt(binary, 2);
					websitePassword = websitePassword + characters[dezimal];
				}
				document.getElementById("websitePassword").value = websitePassword;
			}
		</script>
	</body>
</html>